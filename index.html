<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>polluSensWeb Chart</title>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>
		<header>
			<h1>Connect your UART pollution sensor via COM port. Easy.</h1>
			<div>
				<select id="sensorSelector"></select>
				<button id="connect">ðŸ”Œ Connect</button>
				<br/>
				<label>Custom JSON Sensor Configuration: <input type="file" id="jsonUpload" accept=".json" class="secondary-button" /></label>
			</div>
		</header>
		
		<div id="chartControls">
			<h3>Create a Chart</h3>
			<div class="chartParams">
				<label>Chart name:
					<input type="text" id="chartName" placeholder="Chart name" value="Chart" />
				</label>
				<label>Width:
					<input type="number" id="chartWidth" value="600" />
				</label>
				<label>Height:
					<input type="number" id="chartHeight" value="300" />
				</label>
				<label>Chart datapoints:
					<input type="number" id="maxDatapoints" value="600" min="2" />
				</label>
			</div>
			<div id="datasetConfigs">
				<h4>Signals</h4>
				<div id="signalRows"></div>
			</div>
			<div>
				<button id="createChart">ðŸ“ˆ Create Chart</button>
			</div>
		</div>
		
		<div id="charts"></div>
		
		<div style="margin-bottom: 8px;">
			<label> <b>Log: </b>
			</label>
			<label>Display last 
				<input type="number" id="maxLogPackets" value="1000" min="10" style="width: 80px;" />
				lines
			</label>
			<label style="margin-left: 20px;">
				<input type="checkbox" id="autoscrollLog" checked />
				Autoscroll
			</label>
			&nbsp;&nbsp;&nbsp;
			<button id="clearLog" class="secondary-button">ðŸ§¹ Clear Log</button>
			<button id="saveCSV" class="secondary-button">ðŸ’¾ Save CSV</button>
		</div>
		
		<pre id="log"></pre>
		<script src="pollusensweb.js"></script>
	</body>
</html>


